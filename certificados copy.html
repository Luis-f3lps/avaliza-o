<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerador de Certificados</title>
    <link rel="stylesheet" href="certificados2.css">
</head>

<body>

    <h1>Gerador de Certificados</h1>
    <p>Adicione os nomes na vari√°vel <strong>participantList</strong> no c√≥digo JS.</p>
    <button id="generatePdfBtn">Gerar PDF de Todos os Certificados</button>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            const generatePdfBtn = document.getElementById('generatePdfBtn');
            let allPagesContainer = null; 

const participants = [
  { name: "Villiar Alves Camargo"},
  { name: "Rogerio Mendes Murta" },
  { name: "Leilson Alves Dos Santos" },
  { name: "Vanessa Paulino da Cruz Vieira" },
  { name: "Anibal Souza Felipe da Silva" },
  { name: "Ana Paula Quintino Rocha" },
  { name: "Paulo Eduardo Ferreira dos Santos" },
  { name: "Larissa Duarte Ara√∫jo Pereira" },
  { name: "Gustavo Rodrigues Morgado" },
  { name: "Jo√£o Ant√¥nio Motta Neto" },
  { name: "Genilce Ferreira dos Santos" },
  { name: "Juliana Rocha de Meira Pires" },
  { name: "H√©rika Maria Silveira Ruas" },
  { name: "Jussara Barros Silva" },
  { name: "Sergio Renato Oliveira" },
  { name: "Tattiane Gomes Costa" },
  { name: "Alvaro Diego Soares Mota" },
  { name: "Aline Sardinha Lopes S√°" },
  { name: "Julio Cesar Oliveira Dias" },
  { name: "Flavia Almeida Diniz" },
  { name: "Ricardo Tadeu Barbosa" },
  { name: "Pablo Florentino Fr√≥es Couto" },
  { name: "S√©rgio Fernandes Ferreira" },
  { name: "Susi Cristina dos Santos Guimar√£es Martins" },
  { name: "Tatianne Marques" }
];

            /**
             * Fun√ß√£o que cria o HTML para UMA p√°gina de certificado.
             * Esta √© a fun√ß√£o que eu modifiquei para voc√™.
* @param {object} participant - O objeto contendo { name: "...", lecture: "..." }
 */
function createPageHTML(participant) {
    // Agora acessamos as propriedades 'name' e 'lecture' do objeto
    return `
        <div class="certificate-page">
            <div class="certificate-content">
</br></br>

                <p class="certificate-text">
                    Certificamos que <strong>${participant.name}</strong>, participou como avaliador dos trabalhos submetidos no III SIMP√ìSIO DO PROGRAMA DE P√ìS-GRADUA√á√ÉO EM MEDICINA VETERIN√ÅRIA,  que ocorreu entre os dias 01 e 03 de outubro de 2025, na Cidade de Salinas, Minas Gerais.
                </p>
                
                <p class="signature-placeholder"> Salinas - MG, 24/11/2025 </p>

            </div>
        </div>
    `;
}

            // Fun√ß√£o para limpar a tela depois da impress√£o (reutilizada do seu c√≥digo)
            function afterPrint() {
                console.log("Evento 'afterprint' disparado. Limpando a tela.");
                // Remove o container das p√°ginas
                if (allPagesContainer) {
                    document.body.removeChild(allPagesContainer);
                    allPagesContainer = null;
                }
                // Reabilita o bot√£o
                generatePdfBtn.disabled = false;
                generatePdfBtn.textContent = 'Gerar PDF de Todos os Certificados';

                // Remove o 'listener' para n√£o acumular
                window.removeEventListener('afterprint', afterPrint);
            }

            // Adiciona o evento de clique ao bot√£o (l√≥gica principal reutilizada)
            generatePdfBtn.addEventListener('click', function () {

                generatePdfBtn.disabled = true;
                generatePdfBtn.textContent = 'Preparando para impress√£o...';
                console.log("Gerando HTML das p√°ginas...");

                // Cria o container que vai guardar todas as p√°ginas
                allPagesContainer = document.createElement('div');
                allPagesContainer.id = 'pdf-all-pages'; // ID para o CSS

                // Preenche o container com todas as p√°ginas
                // üëâ Mudei de 'workList' para 'participantList'
                participants.forEach(name => {
                    allPagesContainer.innerHTML += createPageHTML(name);
                });

                // Adiciona o container ao corpo do documento
                document.body.appendChild(allPagesContainer);
                console.log("P√°ginas adicionadas ao DOM. Chamando window.print().");

                // Adiciona o 'listener' que vai limpar a tela DEPOIS
                window.addEventListener('afterprint', afterPrint);

                // Chama a janela de impress√£o do navegador
                // √â AQUI QUE VOC√ä DEVE ESCOLHER "SALVAR COMO PDF"
                window.print();
            });
        });
    </script>

</body>

</html>

</body>

</html>