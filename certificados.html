<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerador de Certificados</title>
    <link rel="stylesheet" href="certificados.css">
</head>

<body>

    <h1>Gerador de Certificados</h1>
    <p>Adicione os nomes na vari√°vel <strong>participantList</strong> no c√≥digo JS.</p>
    <button id="generatePdfBtn">Gerar PDF de Todos os Certificados</button>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            const generatePdfBtn = document.getElementById('generatePdfBtn');
            let allPagesContainer = null; // Vari√°vel para guardar o container

            // =============================================================
            // üëâ TROQUE AQUI a lista de nomes dos participantes
            // =============================================================
            const participantName = [
                "Tatianne Marques",
                "Luis Gustavo Barbosa Santiago",
                "Let√≠cia Grazielly Silva Campos",
                "Wagner Patricio de Sousa Junior",
                "Diego da Cunha Carvalho",
                "Evane Celestino Silveira",
                "Frederico Ventura Batista",
                "G√™ysa de C√°ssia Cardoso",
                "Isis",
                "Karina Costa",
                "Leonardo Humberto Guimar√£es Silva",
                "L√≠lian Gleisia Alves dos Santos",
                "Mar√≠lia Dutra Massad",
                "Patricia Nery Silva Souza",
                "Renata Xavier Castro",
                "Sileimar Maria Lelis",
                "Val√©ria Magro Octaviano Bernis",
                "Vanessa Paulino da Cruz Vieira",
                "Alisson Jo√£o Barbosa dos Santos",
                "BIANCA SANTOS IERVOLINO",
                "Bruna Aparecida Barbosa",
                "Bruna Emanuelle Neves",
                "Caio castro pena",
                "Carol Lorrany Dias de Souza",
                "Daiane Moreira Gomes",
                "Francielle Nunes",
                "Giovanni Xavier Guimar√£es",
                "Graziele Santos da Costa",
                "Gustavo Guilherme da Cruz Souza",
                "Ingrid Beatriz Ferreira da Silva",
                "Karina de Souza Pereira",
                "Karen Karine Vieira dos Santos",
                "Maira Castro",
                "Marco Ant√¥nio de Menezes",
                "Mylena Mendes Corr√™a",
                "Rosane Gomes da Silva Andra",
                "Tauany Teixeira de Almeida",
                "Caio Henriques Sica Lamas"
            ];

            /**
             * Fun√ß√£o que cria o HTML para UMA p√°gina de certificado.
             * Esta √© a fun√ß√£o que eu modifiquei para voc√™.
             * @param {string} title - O nome do participante (vem da participantList)
             */
            function createPageHTML(title) {
                // Aqui est√° o seu texto, formatado em HTML
                return `
                    <div class="certificate-page">
                        <div class="certificate-content">
                            <h2>CERTIFICADO DE PARTICIPA√á√ÉO</h2>
                            
                            <p class="certificate-text">
                                Certificamos que <strong>${title}</strong>, participou da equipe de organiza√ß√£o
                                do evento III Semana Nacional de Ci√™ncia e Tecnologia- IFNMG Campus Salinas
                                realizado entre os dias 22/10/2025 e 24/10/2025, na cidade de Salinas,
                                contabilizando carga hor√°ria total de 40 horas.
                            </p>
                            
                            <p class="signature-placeholder">${title}</p>

                        </div>
                    </div>
                `;
            }

            // Fun√ß√£o para limpar a tela depois da impress√£o (reutilizada do seu c√≥digo)
            function afterPrint() {
                console.log("Evento 'afterprint' disparado. Limpando a tela.");
                // Remove o container das p√°ginas
                if (allPagesContainer) {
                    document.body.removeChild(allPagesContainer);
                    allPagesContainer = null;
                }
                // Reabilita o bot√£o
                generatePdfBtn.disabled = false;
                generatePdfBtn.textContent = 'Gerar PDF de Todos os Certificados';

                // Remove o 'listener' para n√£o acumular
                window.removeEventListener('afterprint', afterPrint);
            }

            // Adiciona o evento de clique ao bot√£o (l√≥gica principal reutilizada)
            generatePdfBtn.addEventListener('click', function () {

                generatePdfBtn.disabled = true;
                generatePdfBtn.textContent = 'Preparando para impress√£o...';
                console.log("Gerando HTML das p√°ginas...");

                // Cria o container que vai guardar todas as p√°ginas
                allPagesContainer = document.createElement('div');
                allPagesContainer.id = 'pdf-all-pages'; // ID para o CSS

                // Preenche o container com todas as p√°ginas
                // üëâ Mudei de 'workList' para 'participantList'
                participantNames.forEach(name => {
                    allPagesContainer.innerHTML += createPageHTML(name);
                });

                // Adiciona o container ao corpo do documento
                document.body.appendChild(allPagesContainer);
                console.log("P√°ginas adicionadas ao DOM. Chamando window.print().");

                // Adiciona o 'listener' que vai limpar a tela DEPOIS
                window.addEventListener('afterprint', afterPrint);

                // Chama a janela de impress√£o do navegador
                // √â AQUI QUE VOC√ä DEVE ESCOLHER "SALVAR COMO PDF"
                window.print();
            });
        });
    </script>

</body>

</html>

</body>

</html>